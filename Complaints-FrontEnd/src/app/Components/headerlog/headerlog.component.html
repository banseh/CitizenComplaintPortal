<header class="w-full bg-white shadow-md z-100 fixed">
  <div class="max-w-8xl mx-auto flex items-center justify-around py-4">
    <div class="w-1/6 flex items-start gap-2 justify-center">
      <img src="logo.svg" alt="Logo" class="w-6 h-6" />
      <span class="text-blue-800 font-semibold text-lg">𝐘𝐨𝐮𝐫𝐕𝐨𝐢𝐜𝐞</span>
    </div>
    <nav
      class="hidden lg:flex w-1/2 justify-center gap-6 text-blue-800 text-lg font-bold pl-30"
    >
      <a
        *ngIf="!hasToken"
        routerLink="/submitComplaint"
        routerLinkActive="font-semibold border-b-2 border-blue-800 pb-1"
        (click)="continueASAGuest()"
        class="hover:text-blue-600"
      >
        Continue as a Guest
      </a>
      <a
        *ngIf="hasToken"
        routerLink="/profile"
        routerLinkActive="font-semibold border-b-2 border-blue-800 pb-1"
        class="hover:text-blue-600 flex items-center gap-2"
      >
        <img
          src="defaltimage.svg"
          alt="User Avatar"
          class="w-10 h-8 rounded-full border border-gray-300 shadow-sm object-cover"
        />
        {{ name }}
      </a>
      <a
        routerLink="/"
        routerLinkActive="font-semibold border-b-2 border-blue-800 pb-1"
        [routerLinkActiveOptions]="{ exact: true }"
        (click)="reset()"
        class="hover:text-blue-600"
      >
        Home
      </a>
      <a
        routerLink="/about"
        routerLinkActive="font-semibold border-b-2 border-blue-800 pb-1"
        class="hover:text-blue-600"
      >
        About
      </a>
    </nav>
    <div class="hidden lg:flex w-1/3 justify-center gap-2 mr-3">
      <button
        class="bg-blue-800 text-white px-5 py-2 rounded-md text-sm font-bold hover:bg-blue-900 transition"
        (click)="cxMenuu()"
      >
        LogOut
      </button>
      <div
        *ngIf="showConfirmPopup"
        class="fixed inset-0 bg-opacity-50 flex items-center justify-center z-50"
      >
        <div
          class="bg-white p-6 rounded-xl shadow-lg text-center max-w-sm w-full"
        >
          <h2 class="text-lg font-semibold text-gray-800 mb-4">
            Are you sure you want to Logout?
          </h2>
          <div class="flex justify-center gap-4 mt-6">
            <button
              (click)="showConfirmPopup = false"
              class="px-4 py-2 rounded-md bg-gray-300 hover:bg-gray-400 text-gray-800"
            >
              No
            </button>
            <button
              (click)="confirmDelete()"
              [disabled]="isDeleting"
              class="px-4 py-2 rounded-md bg-blue-800 hover:bg-red-700 text-white flex items-center justify-center min-w-[70px]"
            >
              <ng-container *ngIf="!isDeleting">Yes</ng-container>
              <ng-container *ngIf="isDeleting">
                <svg
                  class="animate-spin h-5 w-5 text-white"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                >
                  <circle
                    class="opacity-25"
                    cx="12"
                    cy="12"
                    r="10"
                    stroke="currentColor"
                    stroke-width="4"
                  />
                  <path
                    class="opacity-75"
                    fill="currentColor"
                    d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"
                  ></path>
                </svg>
              </ng-container>
            </button>
          </div>
        </div>
      </div>
      <div
        *ngIf="showSuccessPopup"
        class="fixed inset-0 bg-opacity-50 flex items-center justify-center z-50"
      >
        <div
          class="bg-blue-100 border border-blue-800 text-blue-800 px-10 py-6 rounded-2xl shadow-xl text-center max-w-lg w-full flex flex-col items-center gap-4"
        >
          <!-- Spinner -->
          <svg
            class="animate-spin h-10 w-10 text-blue-800"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
          >
            <circle
              class="opacity-25"
              cx="12"
              cy="12"
              r="10"
              stroke="currentColor"
              stroke-width="4"
            ></circle>
            <path
              class="opacity-75"
              fill="currentColor"
              d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 000 16v-4l-3 3 3 3v-4a8 8 0 01-8-8z"
            ></path>
          </svg>
          <p class="text-lg font-semibold">Loading, please wait...</p>
        </div>
      </div>
    </div>
    <button
      (click)="toggleMenu()"
      class="lg:hidden text-blue-800 focus:outline-none"
    >
      <svg
        class="w-6 h-6"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        viewBox="0 0 24 24"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>
  <div
    *ngIf="isMenuOpen"
    class="fixed inset-0 z-40 lg:hidden"
    style="background-color: rgba(0, 0, 0, 0.3)"
    (click)="closeMenu()"
  ></div>
</header>
